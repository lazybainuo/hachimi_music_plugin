# 哈基米音乐插件 (hachimi_music_plugin)

一个简单的音乐播放插件，支持在QQ群中播放本地音乐文件。

## 功能特性

- 🎵 显示音乐歌单列表
- 🎧 播放指定序号的音乐
- 📁 自动扫描music_data文件夹中的音乐文件
- 🔄 支持重新加载音乐文件

## 使用方法

### 基本命令

1. **查看歌单**
   ```
   /哈基米歌单
   ```
   显示所有可播放的音乐列表

2. **播放音乐**
   ```
   /哈基米点歌 <序号>
   ```
   播放指定序号的音乐

3. **重新加载歌单**（管理员功能）
   ```
   /重载哈基米歌单
   ```
   重新扫描music_data文件夹并更新歌单

### 示例

```
用户: /哈基米歌单
Bot: 🎵 哈基米歌单 🎵
0: LoveKills哈基米【原曲不使用From哈基米拜年基】
1: ⚡MAGENTAPOTION哈基米药水⚡完整版
2: ⚡冰と僕らと(memesremix)
...

用户: /哈基米点歌 16
Bot: 正在为您播放：
《圆头监狱》
●━━━━━━─────── 4:15
[发送音频文件]
```

## 安装和配置

### 1. 添加音乐文件

将音乐文件放入 `plugins/hachimi_music_plugin/music_data/` 文件夹中。

支持的音频格式：
- MP3 (.mp3)
- WAV (.wav)
- FLAC (.flac)
- M4A (.m4a)
- OGG (.ogg)
- AAC (.aac)

### 2. 文件命名

音乐文件的文件名将作为显示的歌名，建议使用有意义的文件名。

例如：
- `LoveKills哈基米.mp3` → 显示为 "LoveKills哈基米"
- `⚡MAGENTAPOTION哈基米药水⚡完整版.mp3` → 显示为 "⚡MAGENTAPOTION哈基米药水⚡完整版"

### 3. 插件加载

插件会自动加载，无需额外配置。

## 注意事项

1. 确保音乐文件格式正确且可播放
2. 文件名支持中文和特殊字符
3. 插件会自动为音乐文件分配序号（从0开始）
4. 添加新音乐文件后，可以使用 `/重载哈基米歌单` 命令更新列表

## 技术实现

- 使用 `nonebot2` 框架开发
- 支持 OneBot V11 适配器
- 自动扫描文件系统获取音乐列表
- 使用正则表达式解析用户命令 